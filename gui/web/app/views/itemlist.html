<div class="header">
  <div class="btn-toolbar" role="toolbar">
     <div class="btn-group" dropdown>
      <button type="button" class="btn btn-default dropdown-toggle">
        <span class="glyphicon glyphicon-asterisk"></span> Create <span class="caret"></span>
      </button>
      <ul class="dropdown-menu" role="menu">
        <li ng-repeat="itemKind in itemKinds"><a ng-click="itemListSvc.createItem(itemKind, rootItem, thisScope)" x-name="option">{{itemKind}}</a></li>
        <li ng-if="rootItem === false"><a ng-click="itemListSvc.createItem('SPSpec', false, thisScope)" x-name="option">SPSpec</a></li>
      </ul>
    </div>
    <div class="btn-group" dropdown is-open="status.isopen">
      <button type="button" class="btn btn-default dropdown-toggle">
        <span class="glyphicon glyphicon-list-alt"></span> Columns <span class="caret"></span>
      </button>
      <ul class="dropdown-menu dropdown-menu-form" role="menu">
        <li ng-repeat="column in showableColumns" role="menuitem">
          <label><input
            type="checkbox"
            name="selectedColumns[]"
            value="{{column}}"
            ng-checked="selection.indexOf(column) > -1"
            ng-click="toggleSelection(column, selection, $event)"
          /> {{column}}</label>
        </li>
        <li ng-repeat="(attrType, value) in spTalker.activeModel.attributes.attributeTags">
          <label><input
            type="checkbox"
            name="selectedAttrColumns[]"
            value="{{attrType}}"
            ng-checked="attrSelection.indexOf(attrType) > -1"
            ng-click="toggleSelection(attrType, attrSelection, $event)"
            /> {{attrType}}</label>
        </li>
      </ul>
    </div>
    <button type="button" class="btn btn-default" ng-click="refresh()"><span class="glyphicon glyphicon-refresh"></span> Refresh</button>
    <button type="button" class="btn btn-default" ng-click="showFilterInputs = !showFilterInputs"><span class="glyphicon glyphicon-filter"></span> Filter</button>
    <button type="button" class="btn btn-default" ng-click="collapseAll()"><span class="glyphicon glyphicon-align-justify"></span> Collapse all</button>
    <button type="button" class="btn btn-default" ng-click="copyItems()" ng-show="oneOrMoreItems"><span class="glyphicon glyphicon-file"></span> Copy</button>
    <button type="button" class="btn btn-default" ng-click="deleteItems()" ng-show="oneOrMoreItems"><span class="glyphicon glyphicon-remove"></span> Delete</button>
    <button type="button" class="btn btn-default" ng-click="viewRelation()" ng-show="twoOrMoreOps"><span class="glyphicon glyphicon-link"></span> View relation</button>
    <button type="button" class="btn btn-default" ng-click="openSopInNewWindow(checkedItems[0])" ng-show="oneSOPSpec" ><span class="glyphicon glyphicon-new-window"></span> View in sopMaker</button>
    <div class="btn-group" dropdown>
      <button type="button" class="btn btn-default dropdown-toggle">
        <span class="glyphicon glyphicon-map-marker"></span> Root <span class="caret"></span>
      </button>
      <ul class="dropdown-menu" role="menu">
        <li><a ng-click="alterRootItem(false)" x-name="option">{{spTalker.activeModel.name}}</a></li>
        <li ng-repeat="(id, spSpec) in spTalker.spSpecs"><a ng-click="alterRootItem(spSpec)" x-name="option">{{spSpec.name}}</a></li>
      </ul>
    </div>
  </div> <!-- end of toolbar -->

  <div class="item-table-header-wrapper">
    <table class="table item-table">
      <thead>
        <tr>
          <th class="checkbox-column">
            <input type="checkbox" ng-model="checkUncheckAllModel" ng-change="checkUncheckAll()" />
            <br /><input ng-if="showFilterInputs" type="checkbox" ng-model="search['checked']" />
          </th>
          <th ng-repeat="column in selection" >
            <a ng-click="sort(column)">
              <span class="glyphicon" ng-class="{'glyphicon-sort-by-alphabet': predicate === column && !reverse, 'glyphicon-sort-by-alphabet-alt': predicate === column && reverse}"></span>
              {{column}}
            </a><br />
            <input ng-if="showFilterInputs && column !== 'stateVariables'" type="text" ng-model="search[column]" />
          </th>
          <th ng-repeat="attrColumn in attrSelection">
            <a ng-click="sort('attributes.'+attrColumn)">
              <span class="glyphicon" ng-class="{'glyphicon-sort-by-alphabet': predicate === ('attributes.'+attrColumn) && !reverse, 'glyphicon-sort-by-alphabet-alt': predicate === ('attributes.'+attrColumn) && reverse}"></span>
              {{attrColumn}}
            </a><br />
            <input ng-if="showFilterInputs" type="text" ng-model="search['attributes'][attrColumn]" />
          </th>
          <th>actions</th>
        </tr>
      </thead>
    </table>
  </div> <!-- end of fixed table header -->
</div> <!-- end of header -->


<div class="content">
  <div class="content-wrapper">
    <item-table parent-item="spTalker.activeSPSpec" served-items="filteredAndOrderedItems" alter-checked-array="alterCheckedArray" selection="selection" attr-selection="attrSelection" add-window="addWindow" item-list-scope="thisScope"></item-table>
  </div> <!-- end of content-wrapper -->
</div> <!-- end of content -->