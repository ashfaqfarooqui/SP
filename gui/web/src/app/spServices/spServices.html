<div ng-controller="spServicesController as vm" class="sp-services">
    <table sp-table row-collection="vm.registeredServices" displayed-collection="vm.displayedRegisteredServices">
        <thead><tr><th class="col-md-1">Action</th><th class="col-md-1">Form</th><th class="col-md-1">Name</th></tr></thead>
        <tbody>
        <tr ng-repeat-start="obj in vm.displayedRegisteredServices | orderBy: '-name'" ng-class-odd="'odd-row'" ng-class-even="'even-row'">
            <!--Action-->
            <td>
                <button class="btn btn-xs btn-primary" ng-click="vm.startSpService(obj)">
                    <i class="fa fa-play"></i> Run
                </button>
            </td>
            <!--Form button-->
            <td>
                <button class="btn btn-xs btn-default" ng-click="rowSettings[$index].expandInfo = !rowSettings[$index].expandInfo;" title="Show/hide form">
                    <span class="glyphicon glyphicon-info-sign"></span>
                </button>
            </td>
            <!--Name-->
            <td>{{obj.name}}</td>
        </tr>
        <tr ng-repeat-end ng-class-odd="'odd-row'" ng-class-even="'even-row'">
            <td colspan="99" class="hiddenRow">
                <div collapse="!rowSettings[$index].expandInfo">
                    <!--Form-->
                    <!--{{obj.attributes}}-->
                    <sp-services-form form="{{vm.buildHtmlFromJsonAttr(obj.attributes)}}" ></sp-services-form>
                </div>
            </td>
        </tr>
        </tbody>
    </table>
</div>
